{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nconst apiKey = '41862655-84ddc1d5da0620d7ed5964b7a';\n\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\n\n\nconst getImg = async (param) => {\n    loader.style.display = 'block';\n    try {\n        const result = await fetch(`https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(param)}&image_type=photo&orientation=horizontal&safesearch=true`);\n        if (!result.ok) {\n            throw new Error(result.status);\n        }\n        return await result.json();\n    } finally {\n        loader.style.display = 'none';\n    }\n};\n\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nconst options = {\n    captionsData: \"title\",\n    captionDelay: 250\n  }\n\nconst lightbox = new SimpleLightbox('.gallery a', options);\n\n\nform.addEventListener('submit', (err) => {\n    err.preventDefault();\n    const searchQuery = err.currentTarget.elements.query.value.trim();\n    getImg(searchQuery)\n        .then((result) => {\n            if (result.hits.length === 0) {\n                gallery.innerHTML = \"\";\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    messageColor: '#fff',\n                    backgroundColor: '#EF4040',\n                    position: 'topRight'\n                });\n                return;\n            }\n\n            gallery.innerHTML = \"\";\n            const markup = result.hits.map((hit) => {\n                return `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n                    <img\n                        class=\"gallery-image\"\n                        src=\"${hit.webformatURL}\"\n                        alt=\"${hit.tags}\"\n                    />\n                    <ul class=\"list\">\n                        <li><p class='list-item'>üíóLikes<span>${hit.likes}</span></p></li>\n                        <li><p class='list-item'>üëÅÔ∏èViews<span>${hit.views}</span></p></li>\n                        <li><p class='list-item'>üí¨Comments<span>${hit.comments}</span></p></li>\n                        <li><p class='list-item'>üíåDownloads<span>${hit.downloads}</span></p></li>\n                    </ul>\n                </a>\n            </li>`\n            }).join(\"\");\n\n            gallery.insertAdjacentHTML(`beforeend`, markup);\n            lightbox.refresh();\n            form.reset();\n        })\n\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            iziToast.error({\n              message: 'Failed to fetch images. Please try again later.',\n              messageColor: '#fff',\n              backgroundColor: '#EF4040',\n              position: 'topRight'\n            });\n          });\n    \n});\n"],"names":["apiKey","loader","getImg","param","result","form","gallery","options","lightbox","SimpleLightbox","err","searchQuery","iziToast","markup","hit","error"],"mappings":"6vBAGA,MAAMA,EAAS,qCAETC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAGvB,MAAMC,EAAS,MAAOC,GAAU,CAC5BF,EAAO,MAAM,QAAU,QACvB,GAAI,CACA,MAAMG,EAAS,MAAM,MAAM,gCAAgCJ,OAAY,mBAAmBG,CAAK,2DAA2D,EAC1J,GAAI,CAACC,EAAO,GACR,MAAM,IAAI,MAAMA,EAAO,MAAM,EAEjC,OAAO,MAAMA,EAAO,MAC5B,QAAc,CACNH,EAAO,MAAM,QAAU,MAC1B,CACL,EAGMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAU,CACZ,aAAc,QACd,aAAc,GACf,EAEGC,EAAW,IAAIC,EAAe,aAAcF,CAAO,EAGzDF,EAAK,iBAAiB,SAAWK,GAAQ,CACrCA,EAAI,eAAc,EAClB,MAAMC,EAAcD,EAAI,cAAc,SAAS,MAAM,MAAM,OAC3DR,EAAOS,CAAW,EACb,KAAMP,GAAW,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC1BE,EAAQ,UAAY,GACpBM,EAAS,MAAM,CACX,QAAS,2EACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAC9B,CAAiB,EACD,MACH,CAEDN,EAAQ,UAAY,GACpB,MAAMO,EAAST,EAAO,KAAK,IAAKU,GACrB;AAAA,gDACyBA,EAAI;AAAA;AAAA;AAAA,+BAGrBA,EAAI;AAAA,+BACJA,EAAI;AAAA;AAAA;AAAA,gEAG6BA,EAAI;AAAA,iEACHA,EAAI;AAAA,mEACFA,EAAI;AAAA,oEACHA,EAAI;AAAA;AAAA;AAAA,kBAI3D,EAAE,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaO,CAAM,EAC9CL,EAAS,QAAO,EAChBH,EAAK,MAAK,CACtB,CAAS,EAEA,MAAMU,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CH,EAAS,MAAM,CACb,QAAS,kDACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UACxB,CAAa,CACb,CAAW,CAEX,CAAC"}